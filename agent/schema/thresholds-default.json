{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Default Thresholds",
  "description": "Default pass/fail thresholds for each requirement at each workload level. Values represent maximum acceptable rates (lower is stricter). Override with AIRD_THRESHOLDS env var.",

  "clean": {
    "null_rate": {
      "description": "Maximum acceptable null rate per column",
      "L1": 0.10,
      "L2": 0.05,
      "L3": 0.01
    },
    "duplicate_rate": {
      "description": "Maximum acceptable duplicate rate for candidate key columns",
      "L1": 0.05,
      "L2": 0.02,
      "L3": 0.001
    },
    "format_inconsistency_rate": {
      "description": "Maximum acceptable rate of format inconsistencies in a column",
      "L1": 0.10,
      "L2": 0.05,
      "L3": 0.01
    },
    "pii_detection_rate": {
      "description": "Maximum acceptable rate of PII pattern matches in a column. L1 is not assessed.",
      "L1": null,
      "L2": 0.0,
      "L3": 0.0
    },
    "zero_negative_rate": {
      "description": "Maximum acceptable rate of zero or negative values in columns expected to be positive",
      "L1": 0.05,
      "L2": 0.02,
      "L3": 0.01
    },
    "type_inconsistency_rate": {
      "description": "Maximum acceptable rate of type-inconsistent values in a column",
      "L1": 0.05,
      "L2": 0.02,
      "L3": 0.005
    }
  },

  "contextual": {
    "column_comment_coverage": {
      "description": "Minimum percentage of columns that have comments/descriptions",
      "L1": 0.25,
      "L2": 0.50,
      "L3": 0.80
    },
    "table_comment_coverage": {
      "description": "Minimum percentage of tables that have comments/descriptions",
      "L1": 0.25,
      "L2": 0.50,
      "L3": 0.80
    },
    "foreign_key_coverage": {
      "description": "Minimum percentage of _id columns that have declared foreign key constraints",
      "L1": 0.10,
      "L2": 0.30,
      "L3": 0.50
    },
    "naming_consistency": {
      "description": "Minimum percentage of columns following a consistent naming convention (snake_case, camelCase, etc.)",
      "L1": 0.50,
      "L2": 0.75,
      "L3": 0.90
    }
  },

  "consumable": {
    "ai_compatible_type_rate": {
      "description": "Minimum percentage of columns using types compatible with AI workloads (numeric, timestamp, varchar -- not blob, xml, etc.)",
      "L1": 0.80,
      "L2": 0.90,
      "L3": 0.95
    }
  },

  "current": {
    "max_staleness_hours": {
      "description": "Maximum acceptable hours since last update for tables with timestamp columns",
      "L1": 168,
      "L2": 24,
      "L3": 6
    },
    "timestamp_column_coverage": {
      "description": "Minimum percentage of tables that have at least one timestamp column",
      "L1": 0.25,
      "L2": 0.50,
      "L3": 0.80
    }
  },

  "correlated": {
    "constraint_coverage": {
      "description": "Minimum percentage of tables with at least one primary key or unique constraint",
      "L1": 0.50,
      "L2": 0.70,
      "L3": 0.90
    }
  },

  "compliant": {
    "pii_column_name_rate": {
      "description": "Maximum acceptable rate of columns with PII-suggestive names (ssn, email, phone, etc.) that lack masking policies",
      "L1": 1.0,
      "L2": 0.0,
      "L3": 0.0
    },
    "rbac_coverage": {
      "description": "Minimum percentage of tables with explicit access grants (not just public/default)",
      "L1": 0.25,
      "L2": 0.50,
      "L3": 0.80
    }
  }
}
